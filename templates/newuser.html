<!DOCTYPE html>
<html>
	<head>
		<title>Make a new user</title>
		<link rel="stylesheet" href="/static/css/reset.css?q=1280549780" type="text/css" media="screen" charset="utf-8" />
		<link href="{{ url_for('static', filename='style.css') }}?q=123" type="text/css" rel="stylesheet">
		<script>
			function getUrlVars() {
					var vars = {};
					var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
					vars[key] = value;
					});
					return vars;
				}
		</script>
		<script>
			var errormessages = {'short':'Your password is too short',
								'taken':'That username is taken',
								'diff':'Your passwords did not match',
								'empty':'Username or password was empty'}
		</script>
	</head>
	<body>
		<h1 class="header">Create a new user</h1>
		<div id="main">
			<h2 class="error" id="fail"></h2>
			<script>
				if( getUrlVars()['fail'] != undefined) {
					document.getElementById('fail').innerText = errormessages[getUrlVars()['fail']]
				}
			</script>
			<h4 class="rules">Password rule: Make it at least 7 characters long</h4>
			<form action="/createuser" method="POST">
				Username:<input type="text" name="username"/>
				<br/>
				Password:<input type="password" name="pass1"/>
				<br />
				Re-enter password:<input type="password" name="pass2"/>
				<br />
				<input type="submit" value="Submit"/>
			</form>
			<a href="/login">Login</a>
		</div>
	</body>
</html>