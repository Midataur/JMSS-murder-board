{% extends "base.html" %}
{% block head %}
		<script>
			function getUrlVars() {
					var vars = {};
					var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
					vars[key] = value;
					});
					return vars;
				}
		</script>
		<script>
			var errormessages = {'wrong':'Wrong password',
								'taken':'Code taken',
								'invalid':'One of the fields was invalid',}
		</script>
{%endblock%}
{%block content%}
		<h2>Create a new player</h2>
		<div id="main">
			<h2 class="error" id="fail"></h2>
			<script>
				if( getUrlVars()['fail'] != undefined) {
					document.getElementById('fail').innerText = errormessages[getUrlVars()['fail']]
				}
			</script>
			<form action="/createplayer" method="POST">
				Player name:<input type="text" name="playername"/>
				<br/>
				Player code:<input type="text" name="code"/>
				<br/>
				Admin Password:<input type="password" name="pass1"/>
				<br />
				<input type="submit" value="Submit"/>
			</form>
		</div>
{%endblock%}